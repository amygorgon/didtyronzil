<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Julio Cabrapan Duarte">
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Sidetree - tyronZIL</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">tyronZIL</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Method</a>
                            </li>
                            <li >
                                <a href="../W3C-dids/">W3C</a>
                            </li>
                            <li class="active">
                                <a href="./">Sidetree</a>
                            </li>
                            <li >
                                <a href="../did-scheme/">Scheme</a>
                            </li>
                            <li >
                                <a href="../did-document/">Document</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Operations <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../operations/tyronZIL-operations/">About</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">CRUD</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../operations/CRUD/did-create/">Create</a>
</li>
            
<li >
    <a href="../operations/CRUD/did-resolution/">Resolve</a>
</li>
            
<li >
    <a href="../operations/CRUD/did-recover/">Recover</a>
</li>
            
<li >
    <a href="../operations/CRUD/did-update/">Update</a>
</li>
            
<li >
    <a href="../operations/CRUD/did-deactivate/">Deactivate</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Implementation <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="https://github.com/julio-cabdu/tyronZIL-js">Node.js</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../W3C-dids/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../did-scheme/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/julio-cabdu/didtyronZIL/edit/master/docs/sidetree.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#sidetree-protocol">Sidetree protocol</a></li>
            <li><a href="#anchor-file">Anchor file</a></li>
            <li><a href="#map-file">Map file</a></li>
            <li><a href="#chunk-file">Chunk file</a></li>
            <li><a href="#cas">CAS</a></li>
            <li><a href="#did-suffix">DID suffix</a></li>
            <li><a href="#sidetree-operation-request">Sidetree operation request</a></li>
            <li><a href="#sidetree-did-operation">Sidetree DID operation</a></li>
            <li><a href="#sidetree-transaction">Sidetree transaction</a></li>
            <li><a href="#hash-algorithm">Hash algorithm</a></li>
            <li><a href="#hash-protocol">Hash protocol</a></li>
            <li><a href="#data-encoding-scheme">Data encoding scheme</a></li>
            <li><a href="#key-algorithm">Key algorithm</a></li>
            <li><a href="#operation-key-pair">Operation key pair</a></li>
            <li><a href="#public-key-commitment">Public key commitment</a></li>
            <li><a href="#commitment-scheme">Commitment scheme</a></li>
            <li><a href="#signature-algorithm">Signature algorithm</a></li>
            <li><a href="#commitment-hash">Commitment hash</a></li>
            <li><a href="#reveal-value">Reveal value</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="sidetree-protocol">Sidetree protocol</h1>
<p>Sidetree protocol terminology and default parameters in tyronZIL.</p>
<p>Intro. to-do</p>
<h2 id="anchor-file">Anchor file</h2>
<p>An Anchor file is a JSON document containing proving and index data for the create, recovery and deactivate operations, as well as a CAS URI for the associated Map file. This file is anchored to the Zilliqa blockchain through a <a href="#Sidetree-transaction">Sidetree transaction</a>. The maximum size of a compressed Anchor file (MAX_ANCHOR_FILE_SIZE) has a default parameter of 1 MB.</p>
<h2 id="map-file">Map file</h2>
<p>A Map file is a JSON document containing proving and index data for the Update operation, as well as a CAS URI for the associated Chunk file. The maximum size of a compressed Map file (MAX_MAP_FILE_SIZE) has a default parameter of 1 MB.</p>
<h2 id="chunk-file">Chunk file</h2>
<p>A Chunk file is a JSON document containing all verbose operation data for the corresponding set of DIDs specified in the corresponding Map file. The maximum size of a compressed Chunk file (MAX_CHUNK_FILE_SIZE) has a default parameter of 10 MB.</p>
<h2 id="cas">CAS</h2>
<p>CAS stands for content-addressable storage. The CAS protocol utilized by tyronZIL is IPFS.</p>
<h3 id="cas-uri">CAS URI</h3>
<ul>
<li>A CAS URI is a unique content-bound identifier used to locate a specific resource via the CAS protocol. The default CAS_URI_ALGORITHM to generate the CAS URI is IPFS CID.</li>
</ul>
<h2 id="did-suffix">DID suffix</h2>
<p>A DID suffix is the unique identifier string in a Decentralized Identifier, the last part of the DID after the final colon.</p>
<h2 id="sidetree-operation-request">Sidetree operation request</h2>
<p>A Sidetree operation request is a wweration in a batch of operations.</p>
<h2 id="sidetree-did-operation">Sidetree DID operation</h2>
<p>A Sidetree DID operation is a set of delta-based modifications that change the state of a DID document when applied. The maximum uncompressed operation size (MAX_OPERATION_SIZE) has a default parameter of 1 kb.</p>
<h2 id="sidetree-transaction">Sidetree transaction</h2>
<p>A Sidetree transaction writes an Anchor string in a DLT transaction of the underlying ledger.</p>
<h3 id="anchor-string">Anchor string</h3>
<ul>
<li>An Anchor string is the string anchored to the ledger, composed of the CAS URI of an Anchor file prefixed with the declared operation count. The maximum number of operations per batch (MAX_OPERATION_COUNT) has a default parameter of 10,000.</li>
</ul>
<h3 id="sidetree-transaction-number">Sidetree transaction number</h3>
<ul>
<li>The Sidetreee transaction number is a monotonically increasing number deterministically ordered and assigned to every transaction relative to its position in the ledger time.</li>
</ul>
<h3 id="ledger-time">Ledger time</h3>
<blockquote>
<p>code-name: ledgerTime</p>
</blockquote>
<ul>
<li>The ledger time is the deterministic clock variable of the underlying blockchain that is used as a deterministic chronological reference.</li>
</ul>
<h2 id="hash-algorithm">Hash algorithm</h2>
<p>The HASH_ALGORITH is the algorithm to generate hashes of protocol-related values. The default parameter is SHA256.</p>
<h2 id="hash-protocol">Hash protocol</h2>
<p>The HASH_PROTOCOL is the protocol to generate hash representations using the HASH_ALGORITHM. The default parameter is <a href="https://multiformats.io/multihash/">Multihash</a>, a protocol for differentiating outputs from common cryptographic hash functions, addressing size and encoding considerations.</p>
<h2 id="data-encoding-scheme">Data encoding scheme</h2>
<p>The DATA_ENCODING_SCHEME is the encoding for various data structures such as JSON and hashes, which MUST have its output in ASCII format. The default parameter is Base64URL.</p>
<h2 id="key-algorithm">Key algorithm</h2>
<p>The KEY_ALGORITHM is the asymmetric public key algorithm to sign DID operations, which MUST be a valid JWK "crv". The default parameter is secp256k1.</p>
<h2 id="operation-key-pair">Operation key pair</h2>
<blockquote>
<p>code-name: operationKeyPair</p>
</blockquote>
<p>Generates a cryptographic key pair to operate with.</p>
<p>to-do
used to produce an Operation Request JWS. Public key representation MAY be present in the DID Document. Public key representation MUST be used to produce Operation Request commitment."</p>
<h2 id="public-key-commitment">Public key commitment</h2>
<p>The resulting commitment obtained by applying the defined commitment scheme to a public key.</p>
<ul>
<li>Update commitment
    &gt; code-name: updateCommitment</li>
</ul>
<p>The resulting commitment obtained by applying the defined commitment scheme to the public key of an update key pair.</p>
<ul>
<li>Recovery commitment
    &gt; code-name: recoveryCommitment</li>
</ul>
<p>The resulting commitment obtained by applying the defined commitment scheme to the public key of a recovery key pair.</p>
<h2 id="commitment-scheme">Commitment scheme</h2>
<p>A cryptographic primitive that allows one to commit to a chosen value, known as the commit value resulting in the generation of a commitment. A commitment can then be shared without revealing the commit value forming a proof of commitment where the possessor of the commit value can then later reveal the commit value proving the original commitment.</p>
<h3 id="public-key-commitment-scheme">Public key commitment scheme</h3>
<p>Commitment scheme steps to generate a public key commitment from a public key:</p>
<ol>
<li>Encode the public key into the form of a valid JWK.</li>
<li>Canonicalize the JWK encoded public key using the JSON Canonicalization Scheme</li>
<li>Apply the defined HASH_ALGORITHM to the canonicalized public key to produce the public key commitment.</li>
</ol>
<p>Implementers MUST NOT re-use public keys across different commitment invocations.</p>
<h2 id="signature-algorithm">Signature algorithm</h2>
<p>The SIGNATURE_ALGORITHM is the asymmetric public key signature algorithm, which MUST be a valid JWS "alg". The default parameter is ES256K.</p>
<h2 id="commitment-hash">Commitment hash</h2>
<p>The COMMITMENT_HASH is a cryptographically random hash of a value to be revealed in the next operation. The default parameter is 32 bytes.</p>
<h2 id="reveal-value">Reveal value</h2>
<p>The REVEAL_VALUE is a cryptographically random value to be revealed in the next operation. The default parameter is 100 bytes.</p>
<p>to-do dive into MAX_ENCODED_HASH_LENGHT and GENESIS_TIME</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright (C) 2020 Julio Cesar Cabrapan Duarte</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
